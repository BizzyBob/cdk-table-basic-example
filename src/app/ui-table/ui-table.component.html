<cdk-table [dataSource]="dataSource">

  <ng-container *ngFor="let col of columnDefs" [cdkColumnDef]="col.key">
    <cdk-header-cell *cdkHeaderCellDef> {{ col.name}} </cdk-header-cell>
    <cdk-cell *cdkCellDef="let element"> {{element[col.key]}} </cdk-cell>
  </ng-container>

  <cdk-header-row *cdkHeaderRowDef="displayedColumns"></cdk-header-row>
  <cdk-row *cdkRowDef="let row; columns: displayedColumns;"></cdk-row>

</cdk-table>